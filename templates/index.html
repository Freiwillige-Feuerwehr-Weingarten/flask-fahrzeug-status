{% extends 'base.html' %}

{% block content %}
    <h1>Fahrzeugstatus</h1>
    <div class="row">
        <div class="col">
            <a href="/status/10"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/12/weingarten_10.jpg" alt="KdoW" /></a>
        </div>
        <div class="col">
            <a href="/status/11"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_11.jpg" alt="ELW" /></a>
        </div>
        <div class="col">
            <a href="/status/23"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_23.jpg" alt="TLF" /></a>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button type="button" id="6145074" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145074 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145077" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145077 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145084" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145084 }}</button>
        </div>
    </div>
    <p />
    <div class="row">
        <div class="col">
            <a href="/status/33"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_33.jpg" alt="DLK" /></a>
        </div>
        <div class="col">
            <a href="/status/441"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_44_1.jpg" alt="LF1" /></a>
        </div>
        <div class="col">
            <a href="/status/442"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_44_2.jpg" alt="LF2" /></a>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button type="button" id="6145087" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145087 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145085" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145085 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145086" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145086 }}</button>
        </div>
    </div>
    <p />
    <div class="row">
        <div class="col">
            <a href="/status/50"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_50-1.jpg" alt="VRW" /></a>
        </div>
        <div class="col">
            <a href="/status/52"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_52.jpg" alt="RW2" /></a>
        </div>
        <div class="col">
            <a href="/status/56"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_56.jpg" alt="GWA" /></a>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button type="button" id="6145082" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145082 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145083" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145083 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145089" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145089 }}</button>
        </div>
    </div>
    <p />
    <div class="row">
        <div class="col">
            <a href="/status/591"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2023/06/weingarten_56.jpg" alt="GWH" /></a>
        </div>
        <div class="col">
            <a href="/status/73"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_74.jpg" alt="LKW" /></a>
        </div>
        <div class="col">
            <a href="/status/191"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_19_1.jpg" alt="MTW-1" /></a>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button type="button" id="6145284" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145284 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145088" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145088 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145075" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145075 }}</button>
        </div>
    </div>
    <p />
    <div class="row">
        <div class="col">
            <a href="/status/192"><img class="img-fluid" src="https://www.feuerwehr-weingarten.de/wp-content/uploads/2019/11/weingarten_19_2.jpg" alt="MTW-2" /></a>
        </div>
        <div class="col">
            <a href="/status/100">Leitstand</a>
        </div>
        <div class="col">
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button type="button" id="6145076" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145076 }}</button>
        </div>
        <div class="col">
            <button type="button" id="6145090" class="btn btn-primary btn-lg w-100">Status: {{ vdict.6145090 }}</button>
        </div>
        <div class="col">
        </div>
    </div>
    <script type="text/javascript">
        var client_id = Date.now()
        const server = "{{ server_hostname }}"
        const port = "{{ server_port }}"
        var ws = new WebSocket(`ws://${server}:${port}/ws/${client_id}`);
        ws.onmessage = function(event) {
            var obj = JSON.parse(event.data)
            var messages = document.getElementById(obj.issi)
            messages.innerHTML = "Status " + obj.status
            console.log(obj)
        };
        window.addEventListener('beforeunload', function() {
            ws.close();
        });
    </script>
{% endblock %}